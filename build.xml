<?xml version="1.0" encoding="UTF-8"?>
<project name="testNG-nk4">
  <property name="version" value="0_1"/>
  
  <path id="path">
    <pathelement path="build/"/>
    <fileset dir="lib">
      <include name="*.jar"/>
    </fileset>
  </path>
  
  <target name="init">
    <mkdir dir="build"/>
  </target>
  
  <target name="clean">
    <delete dir="build"/>
  </target>
  
  <target name="build" depends="init">
    <javac classpathref="path"
           srcdir="src"
           destdir="build"
           debug="true"/>
  </target>
  
  <target name="package" depends="build">
    <jar destfile="testNG-nk4.jar">
      <zipfileset dir="build" prefix=""/>
      <zipfileset dir="etc" prefix="etc"/>
      <zipfileset dir="src" prefix="src"/>
      <zipfileset file="src/uk/org/onegch/netkernel/testNG/generate-suite.xsl" prefix=""/>
      <zipfileset file="src/modules.conf" prefix=""/>
      <zipfileset dir="lib" prefix="lib">
        <include name="urn.org.netkernel*.jar"/>
      </zipfileset>
    </jar>
    
    <zip destfile="testNG-nk4-${version}.zip">
      <zipfileset file="testNG-nk4.jar" prefix="testNG-nk4-${version}/"/>
      <zipfileset dir="lib" prefix="testNG-nk4-${version}/lib"/>
      <zipfileset file="src/uk/org/onegch/netkernel/testNG/generate-suite.xsl" prefix="testNG-nk4-${version}/"/>
    </zip>
  </target>
</project>